import{i as w,f as R,l as v,v as m,o as c,c as d,z as T,u as a,C as I,D as B,_ as x,E as M,G as F,H as b,I as g,J as L,K as V,L as D,m as h,w as l,r as K,F as P,b as f,d as C,M as S,y as j,t as E}from"./entry.0c521200.js";import{u as G}from"./url.6edfad5e.js";import{u as k}from"./state.7d80d326.js";var U="[object Number]";function q(e){return typeof e=="number"||w(e)&&R(e)==U}function z(e){return q(e)&&e!=+e}function A(e){return e===void 0}const H=["data-current"],J=v({__name:"item",props:{current:{type:Boolean},index:{},deleteFunc:{}},setup(e){const r=m(()=>!A(e.index));return(o,t)=>(c(),d("a",{"data-current":o.current,class:"tabs-item flex-center p-mini relative"},[T(o.$slots,"default",{},void 0,!0),a(r)?(c(),d("span",{key:0,class:"tabs-item_close flex-center",onClick:t[0]||(t[0]=I(n=>o.deleteFunc(o.index),["stop"]))},"×")):B("",!0)],8,H))}});const O=x(J,[["__scopeId","data-v-bdbe725f"]]),Q=v({__name:"copyright",setup(e){M(t=>({"70d20d5d":a(o)}));const r=F(),o=m(()=>{var t,n;return((n=(t=r.value)==null?void 0:t.getBoundingClientRect())==null?void 0:n.width)||0});return(t,n)=>(c(),d("div",{ref_key:"text",ref:r,class:"copyright-label px-small"}," © 2023, Don Copr. ",512))}});const W=x(Q,[["__scopeId","data-v-96c61c14"]]);function X(){const{current:e}=g(),{control_w:r}=g();return{control_nums:m(()=>{const t=Array.from(e);if(t.length!==2||t[0]!=="control")return 0;const n=Number(t[1]);return z(n)?0:n}),control_w:r}}function Y(){const e=k("tabs-route",()=>["","capabilities","todos","posts"]),r=m(()=>e.value.length===1);return{routes:e,only_one_route:r}}function Z(e){const r=L(),o=k("terminal-current-route",()=>0);return V(o,t=>{t<0||r.replace({path:`/${e.value[t]}`})}),o}function ee(){const{routes:e,only_one_route:r}=Y(),{control_nums:o,control_w:t}=X(),n=Z(e),s=u=>{if(r.value)return;e.value.splice(u,1);const _=n.value,i=e.value.length-1;n.value=-1,setTimeout(()=>n.value=i>=_?_:i,0)};return b(o,u=>n.value=u-1),b(t,()=>s(n.value)),{routes:e,delete_route_by_index:s,current_route:n}}function te(e){return e?`/${e}`:"/"}const ne=v({__name:"index",setup(e){const{pathname:r}=G(),{routes:o,current_route:t,delete_route_by_index:n}=ee();return D(()=>{const s=o.value.findIndex(u=>u?r.includes(`/${u}`):r==="/");t.value=s===-1?0:s}),(s,u)=>{const _=O,i=S,N=W,$=j;return c(),h($,{name:"terminal"},{tabs:l(()=>[(c(!0),d(P,null,K(a(o),(y,p)=>(c(),h(_,{key:y,current:a(t)===p,index:p,"delete-func":a(n),onClick:re=>t.value=p},{default:l(()=>[C(" ~"+E(("getCurrentPath"in s?s.getCurrentPath:a(te))(y)),1)]),_:2},1032,["current","index","delete-func","onClick"]))),128)),f(_,{class:"terminal-tabs_add"},{default:l(()=>[C(" + ")]),_:1})]),default:l(()=>[f(i),f(N)]),_:1})}}});const ae=x(ne,[["__scopeId","data-v-230421ad"]]);export{ae as default};
